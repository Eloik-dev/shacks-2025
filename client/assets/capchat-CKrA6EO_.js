import{a as m,p as n,R as i,w as xe}from"./chunk-UIGDSWPH-DcDWgLby.js";const me=({children:c})=>{const{levelCount:y,currentLevel:h,currentDescription:d}=m.useContext(Q);return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsxs("div",{className:"w-1/2 p-[5px] relative padding border rounded-lg shadow-md bg-white overflow-hidden font-sans",children:[n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-100 border-b",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700",children:d}),n.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[h+1," / ",y]})]}),n.jsx("div",{className:"",children:c}),n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-t bg-gray-100",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"reCAPTCHA"}),n.jsxs("div",{className:"flex space-x-2 text-[10px] text-gray-400",children:[n.jsx("a",{href:"#",className:"hover:text-gray-600 underline",children:"Privacy"}),n.jsx("span",{children:"‚Ä¢"}),n.jsx("a",{href:"#",className:"hover:text-gray-600 underline",children:"Terms"})]})]})]})})},Q=m.createContext({currentDescription:"",updateDescription:()=>{},currentLevel:0,nextLevel:()=>{},capchaSolved:!1,setCapchaSolved:()=>{},resetCapcha:()=>{},levelCount:0,victory:!1}),he=({levels:c})=>{const[y,h]=m.useState(""),[d,l]=m.useState(0),[X,u]=m.useState(!1),[w,v]=m.useState(c.length),[b,g]=m.useState(!1);m.useEffect(()=>{v(c.length)},[c]);const V=I=>{h(I)},D=()=>{g(!0),setTimeout(()=>{d<c.length?(l(d+1),u(!1)):u(!0),g(!1)},1e3)},B=()=>{u(!1),g(!1)};return n.jsx(Q.Provider,{value:{currentDescription:y,updateDescription:V,currentLevel:d,nextLevel:D,capchaSolved:X,setCapchaSolved:u,resetCapcha:B,levelCount:w,victory:b},children:n.jsx(me,{children:c[d]})})},ie=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],H=Array(9).fill(null),pe=()=>{const{updateDescription:c}=m.useContext(Q),[y,h]=i.useState(H),[d,l]=i.useState("√Ä vous de jouer (X)"),[X,u]=i.useState(!0),[w,v]=i.useState(!1),[b,g]=i.useState(null),[V,D]=i.useState(!1),[B,I]=i.useState(!1),[N,W]=i.useState(!1),[ae,ee]=i.useState(!1),[G,K]=i.useState(0),[R,U]=i.useState(!1),T=i.useRef(!1),[te,A]=i.useState(!1),_=i.useRef(null),F=i.useRef(null),L=i.useRef(!1),M=i.useRef({dx:0,dy:0}),[P,E]=i.useState({x:40,y:400}),[le,ne]=i.useState(()=>new Array(9).fill(0).map(()=>({tx:0,ty:0,rot:0,delay:0})));m.useEffect(()=>{c("Gagnez au Tic-Tac-Toe pour prouver que vous √™tes humain.")},[c]);function O(e){for(const[t,r,s]of ie)if(e[t]&&e[t]===e[r]&&e[t]===e[s])return e[t];return e.every(t=>t!==null)?"draw":null}function re(e){for(const t of ie){const[r,s,o]=t;if(e[r]&&e[r]===e[s]&&e[r]===e[o])return t}return null}function ce(e){if(w||R)return;const t=e.map((o,a)=>o===null?a:-1).filter(o=>o!==-1);if(t.length===0)return;for(const o of t){const a=[...e];if(a[o]="O",O(a)==="O"){S(o);return}}for(const o of t){const a=[...e];if(a[o]="X",O(a)==="X"){S(o);return}}if(e[4]===null){S(4);return}const r=[0,2,6,8].filter(o=>e[o]===null);if(r.length>0){S(r[Math.floor(Math.random()*r.length)]);return}const s=[1,3,5,7].filter(o=>e[o]===null);if(s.length>0){S(s[Math.floor(Math.random()*s.length)]);return}S(t[Math.floor(Math.random()*t.length)])}function S(e){setTimeout(()=>{const r=s=>{const o=[...s];return o[e]!==null||(o[e]="O"),o};h(s=>{const o=r(s),a=O(o);if(a==="O"){if(g(re(o)),!T.current&&(T.current=!0,K(p=>{const k=p+1;return k>=3&&U(!0),k}),typeof window<"u")){const k=Math.max(80,window.innerWidth-80-72),J=Math.max(120,window.innerHeight-80-44),fe=Math.floor(80+Math.random()*(k-80)),ge=Math.floor(80+Math.random()*(J-80));E({x:fe,y:ge})}l("PERDANT"),v(!0),setTimeout(()=>{ee(!0),ne(oe()),D(!0),setTimeout(()=>{D(!1),ee(!1),W(!0),g(null)},900)},700)}else a==="draw"?(g(null),l("Match nul."),v(!0)):(l("√Ä vous de jouer (X)"),u(!0));return o})},80)}function oe(){return new Array(9).fill(0).map(()=>{const e=Math.round((Math.random()-.5)*800),t=Math.round((Math.random()-.5)*600),r=Math.round((Math.random()-.5)*720),s=Math.round(Math.random()*200);return{tx:e,ty:t,rot:r,delay:s}})}function de(e){if(R||!X||w||y[e]!==null)return;const t=[...y];t[e]="X",h(t),u(!1);const r=O(t);if(r==="X"){g(re(t)),l("Vous avez gagn√© !"),v(!0);return}if(r==="draw"){g(null),l("Match nul."),v(!0);return}l("L'ordinateur r√©fl√©chit..."),ce(t)}function Y(){if(N){T.current=!1,A(!1),W(!1);const e=oe();ne(e),h(H.slice().map(()=>null)),I(!0),setTimeout(()=>{I(!1),v(!1),u(!0),l("√Ä vous de jouer (X)"),h(H.slice())},900);return}h(H.slice()),v(!1),u(!0),l("√Ä vous de jouer (X)"),g(null),T.current=!1,R&&(U(!1),K(0),W(!1),A(!1))}i.useEffect(()=>{u(!0),l("√Ä vous de jouer (X)")},[]),i.useEffect(()=>(E({x:40,y:window.innerHeight-140}),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",C),window.removeEventListener("touchmove",Z),window.removeEventListener("touchend",C)}),[]);function q(e){if(!L.current)return;const t=M.current.dx,r=M.current.dy;E({x:e.clientX-t,y:e.clientY-r})}function Z(e){if(!L.current)return;const t=e.touches[0],r=M.current.dx,s=M.current.dy;E({x:t.clientX-r,y:t.clientY-s})}function C(e){if(L.current&&(L.current=!1,window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",C),window.removeEventListener("touchmove",Z),window.removeEventListener("touchend",C),_.current&&F.current)){const t=_.current.getBoundingClientRect(),r=F.current.getBoundingClientRect(),s=r.left+r.width/2,o=r.top+r.height/2;if(s>=t.left&&s<=t.right&&o>=t.top&&o<=t.bottom){const a=t.left+t.width/2-r.width/2,p=t.top+t.height/2-r.height/2;A(!0),E({x:a,y:p}),setTimeout(()=>{U(!1),K(0),T.current=!1,W(!1),l("√Ä vous de jouer (X)"),u(!0),setTimeout(()=>A(!1),200)},380)}}}function se(e){if(!R)return;let t=0,r=0;"touches"in e&&e.touches&&e.touches[0]?(t=e.touches[0].clientX,r=e.touches[0].clientY):"clientX"in e&&(t=e.clientX,r=e.clientY),L.current=!0,M.current={dx:t-P.x,dy:r-P.y},window.addEventListener("mousemove",q),window.addEventListener("mouseup",C),window.addEventListener("touchmove",Z,{passive:!1}),window.addEventListener("touchend",C)}const j=100,$=8,f=3*j+2*$,z={container:{minHeight:"50vh",background:"#000",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:20,boxSizing:"border-box"},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:$,marginTop:12,width:f,marginLeft:"auto",marginRight:"auto",position:"relative"},cell:{width:j,height:j,display:"flex",alignItems:"center",justifyContent:"center",fontSize:36,fontWeight:800,background:"linear-gradient(135deg,#0f172a, #001f3f)",border:"2px solid rgba(255,255,255,0.08)",borderRadius:8,cursor:"pointer",userSelect:"none",color:"#fff"},footer:{marginTop:16},small:{fontSize:14,color:"#ddd"}},x=6;function ue(e){if(!e)return{display:"none"};const[t,,r]=e;return e[0]%3===0&&e[1]%3===1&&e[2]%3===2?{position:"absolute",left:0,top:Math.floor(e[0]/3)*(j+$)+j/2-x/2,width:f,height:x,background:"#00ffcc",borderRadius:x/2,transform:"none",zIndex:2}:e[0]<3&&e[1]<6&&e[2]<9&&e[1]-e[0]===3?{position:"absolute",left:e[0]%3*(j+$)+j/2-x/2,top:0,width:x,height:f,background:"#00ffcc",borderRadius:x/2,zIndex:2}:e[0]===0&&e[1]===4&&e[2]===8?{position:"absolute",left:(f-f*1.05)/2,top:f/2-x/2,width:f*1.05,height:x,background:"#ffe66d",transform:"rotate(45deg)",transformOrigin:"center",zIndex:2}:e[0]===2&&e[1]===4&&e[2]===6?{position:"absolute",left:(f-f*1.05)/2,top:f/2-x/2,width:f*1.05,height:x,background:"#ffe66d",transform:"rotate(-45deg)",transformOrigin:"center",zIndex:2}:{display:"none"}}return n.jsxs("div",{style:z.container,"aria-live":"polite",children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("h2",{style:{marginBottom:6,fontSize:36,letterSpacing:2},children:"Tictacto"}),n.jsx("div",{style:{color:"#ff6b6b",fontWeight:700,marginLeft:8},children:G>0?`D√©faites: ${G}/3`:null})]}),d==="PERDANT"?n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:12,marginBottom:12},children:[n.jsx("button",{disabled:!0,style:{background:"linear-gradient(90deg,#ff2d2d,#ff6b6b)",color:"#fff",fontSize:44,fontWeight:900,padding:"12px 24px",borderRadius:10,border:"none",letterSpacing:2},children:"PERDANT"}),n.jsx("button",{onClick:Y,style:{background:"linear-gradient(90deg,#ff2fb1,#00fff0)",color:"#001014",fontSize:18,fontWeight:800,padding:"10px 18px",borderRadius:8,border:"none",boxShadow:"0 8px 24px rgba(0,0,0,0.6)"},children:"Recommencer"})]}):n.jsx("p",{style:z.small,children:d}),n.jsx("style",{children:`
                        .tictacto-grid { position: relative; }
                        .tictacto-cell { will-change: transform, opacity; }
                        .tictacto-cell.explode { animation: explode 700ms forwards; animation-delay: var(--delay); }
                        .tictacto-cell.assemble { animation: assemble 700ms forwards; animation-delay: var(--delay); }
                        .tictacto-strike.disintegrate { animation: disintegrate 900ms forwards; }
                        @keyframes explode {
                            to { transform: translate(var(--tx), var(--ty)) rotate(var(--rot)); opacity: 0; }
                        }
                        @keyframes assemble {
                            from { transform: translate(var(--tx), var(--ty)) rotate(var(--rot)); opacity: 0; }
                            to { transform: none; opacity: 1; }
                        }
                        @keyframes disintegrate {
                            0% { opacity: 1; filter: none; transform: scaleX(1); }
                            40% { opacity: 0.8; filter: blur(2px) hue-rotate(10deg); transform: scaleX(0.9) translateY(-4px); }
                            100% { opacity: 0; transform: scaleX(0.2) translateY(-30px) rotate(-8deg); filter: blur(6px); }
                        }
                    `}),!N&&n.jsxs("div",{className:"tictacto-grid",style:z.grid,children:[b&&n.jsx("div",{className:`tictacto-strike ${ae?"disintegrate":""}`,style:ue(b)}),y.map((e,t)=>{const r=!!b&&b.includes(t);let s,o="#fff",a="none";e===null?(s="linear-gradient(135deg,#071024,#00101f)",o="#fff"):e==="X"?(s="linear-gradient(135deg,#00fff0,#00c2ff)",o="#001014",a="0 0 12px rgba(0,255,240,0.6)"):(s="linear-gradient(135deg,#ff2fb1,#ff7ae0)",o="#fff",a="0 0 12px rgba(255,47,177,0.6)");const p=le[t]||{tx:0,ty:0,rot:0,delay:0},k={"--tx":`${p.tx}px`,"--ty":`${p.ty}px`,"--rot":`${p.rot}deg`,"--delay":`${p.delay}ms`},J=`tictacto-cell ${V?"explode":B?"assemble":""}`;return n.jsx("div",{role:"button","aria-label":`case ${t+1}`,onClick:()=>de(t),className:J,style:{...z.cell,...k,background:s,color:o,textShadow:a,cursor:w||!X||e!==null?"not-allowed":"pointer",opacity:1,boxShadow:r?"0 0 18px rgba(255,230,109,0.45), inset 0 0 0 3px rgba(255,230,109,0.12)":"0 6px 18px rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"center"},children:e},t)})]}),N&&d!=="PERDANT"&&n.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1200},children:n.jsx("button",{onClick:Y,style:{padding:"16px 24px",fontSize:20,borderRadius:10,background:"linear-gradient(90deg,#ff2fb1,#00fff0)",border:"none",color:"#001014",fontWeight:800,boxShadow:"0 8px 30px rgba(0,0,0,0.6)"},children:"Recommencer"})}),R&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:18,color:"#fff",padding:24,textAlign:"center"},children:n.jsxs("div",{ref:_,style:{width:240,height:240,borderRadius:16,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01))",boxShadow:"0 20px 60px rgba(0,0,0,0.7), inset 0 2px 6px rgba(255,255,255,0.02)"},children:[n.jsx("div",{style:{fontSize:96,lineHeight:1},children:"üîí"}),n.jsx("div",{style:{marginTop:8,fontSize:18,fontWeight:700},children:"Verrouill√©"}),n.jsx("div",{style:{marginTop:6,fontSize:14,color:"#ffb3b3"},children:"Glissez la cl√© sur le cadenas pour d√©verrouiller"}),n.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#ff6b6b",fontWeight:800},children:["D√©faites: ",G,"/3"]})]})}),n.jsx("div",{ref:F,onMouseDown:e=>se(e),onTouchStart:e=>se(e),style:{position:"fixed",left:P.x,top:P.y,zIndex:2100,width:72,height:44,display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",background:"linear-gradient(90deg,#ffd36b,#ff8fb1)",borderRadius:10,boxShadow:"0 12px 40px rgba(0,0,0,0.6)",userSelect:"none",touchAction:"none",transition:te?"left 360ms cubic-bezier(.2,.9,.2,1), top 360ms cubic-bezier(.2,.9,.2,1), transform 260ms ease":"none",transform:te?"scale(1.08)":"none"},children:"üîë"})]}),!N&&n.jsx("div",{style:z.footer,children:w&&b&&y[b[0]]==="X"?n.jsxs("div",{children:[n.jsx("div",{style:{color:"#0a7f3d",fontWeight:700,marginBottom:8},children:"üéâ Succ√®s ‚Äî vous avez battu l'ordinateur !"}),n.jsx("button",{onClick:Y,style:{padding:"8px 12px",borderRadius:6},children:"Rejouer"})]}):w&&d!=="PERDANT"?n.jsx("div",{children:n.jsx("button",{onClick:Y,style:{padding:"8px 12px",borderRadius:6},children:"Recommencer"})}):null})]})},ye=()=>n.jsx(he,{levels:[n.jsx(pe,{})]});function be({}){return[{title:"Capchat"},{name:"description",content:"Veuillez compl√©ter le capchat"}]}const we=xe(function(){return n.jsx(ye,{})});export{we as default,be as meta};
